{"version":3,"sources":["main.js","card-filter/card-filter.js","card-filter/card.js","card-filter/cards.js","card-filter/filter.js","utils/data-service.js"],"names":["document","addEventListener","getJSON","then","data","console","log","players","cardFilter","getElementById","appendChild","e","buildCardFilter","createElement","classList","add","filter","buildFilter","cards","buildCards","firstChild","remove","append","buildCard","_ref","_ref$player","player","id","_ref$player$name","name","firstName","first","lastName","last","position","info","teamId","currentTeam","stats","cardContainer","setAttribute","imgContainer","foregroundImg","src","sprite","contentContainer","cardTitle","innerText","cardSubtitle","statsContainer","forEach","stat","statsItem","statsName","statsValue","value","cardsContainer","element","card","defaultOption","_element$player","_element$player$name","option","_step","_iterator","_createForOfIteratorHelper","getElementsByClassName","s","n","done","err","f","getElementsByName","this","url","fetch","response","json"],"mappings":"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","file":"main.js","sourcesContent":["//Fetch Data + build components\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const fetchFbPlayersURL = '/football-players';\n    getJSON(fetchFbPlayersURL).then(data => {\n\n      console.log(data.players);\n\n      const cardFilter = buildCardFilter(data.players);\n\n      const root = document.getElementById('app');\n      root.appendChild(cardFilter);\n\n    }).catch(e => {\n      console.log('Error ' + e);\n    });\n});","const buildCardFilter = data => {\n\n    const cardFilter = document.createElement('div');\n    cardFilter.classList.add('card-filter-cnt');\n    \n    const filter = buildFilter(data);\n    const cards = buildCards(data);\n\n    //Show first card\n\n    cards.firstChild.classList.remove('hidden');\n\n    cardFilter.append(filter);\n    cardFilter.append(cards);\n\n    return cardFilter;\n}","const buildCard = ({ \n    player: { \n        id, \n        name: { first: firstName, last: lastName },\n        info: { position },\n        currentTeam: { id: teamId } \n    }, stats }) => {\n        \n    const cardContainer = document.createElement('div');\n    cardContainer.setAttribute('name', id);\n    cardContainer.classList.add('card', 'hidden');\n\n    // Build img container\n\n    const imgContainer = document.createElement('div');\n    imgContainer.classList.add('card__image');\n\n    const foregroundImg = document.createElement('img');\n    foregroundImg.classList.add('card__foreground');\n    foregroundImg.src = './img/p' + id + '.png';\n    foregroundImg.setAttribute('alt', firstName + ' ' + lastName);\n\n    const sprite =  document.createElement('img');\n    sprite.classList.add('card__sprite', 'sprite' + teamId);\n    sprite.src = './img/transparent.png';\n\n    imgContainer.appendChild(foregroundImg);\n    imgContainer.appendChild(sprite);\n\n    // Build content container\n\n    const contentContainer = document.createElement('div');\n    contentContainer.classList.add('card__content');\n\n    const cardTitle = document.createElement('h3');\n    cardTitle.classList.add('card__title');\n    cardTitle.innerText = firstName + lastName;\n\n    const cardSubtitle = document.createElement('h4');\n    cardSubtitle.classList.add('card__subtitle');\n    cardSubtitle.innerText = position;\n\n    // Create stats list\n\n    const statsContainer = document.createElement('ul');\n    statsContainer.classList.add('card__stats');    \n\n    stats.forEach(stat => {\n        const statsItem = document.createElement('li');\n        statsItem.classList.add('card__stats-detail');\n        \n        const statsName = document.createElement('em');\n        statsName.innerText = stat.name;\n\n        const statsValue = document.createElement('span');\n        statsValue.innerText = stat.value;\n\n        statsItem.appendChild(statsName);\n        statsItem.appendChild(statsValue);\n\n        statsContainer.appendChild(statsItem)\n    });\n\n    contentContainer.appendChild(cardTitle);\n    contentContainer.appendChild(cardSubtitle);\n    contentContainer.appendChild(statsContainer);\n\n    // Build card\n    cardContainer.appendChild(imgContainer);\n    cardContainer.appendChild(contentContainer);\n\n    return cardContainer;\n}","const buildCards = data => {\n\n    const cardsContainer = document.createElement('div');\n\n    data.forEach(element => {\n        const card = buildCard(element);\n        cardsContainer.appendChild(card);\n    });\n\n    return cardsContainer;\n}","const buildFilter = data => {\n\n    const filter = document.createElement('select');\n    filter.classList.add('filter');\n\n    // Default option\n\n    const defaultOption = document.createElement('option');\n    defaultOption.innerText = 'Select a player...';\n    defaultOption.setAttribute('disabled', true);\n    defaultOption.setAttribute('selected', true);\n    filter.appendChild(defaultOption);\n\n    // Create dropdown\n\n    data.forEach(element => {\n\n        const { player: { id, name: { first: firstName, last: lastName } } } = element;\n\n        const option = document.createElement('option');\n        option.innerText = firstName + ' ' + lastName;\n        option.value = id;\n\n        filter.appendChild(option);\n    });\n\n    // Add onChange event\n\n    filter.addEventListener('change', function() {\n        const list = document.getElementsByClassName('card');\n\n        for (const element of list) {\n            element.classList.add('hidden');\n        }\n        \n        document.getElementsByName(this.value)[0].classList.remove('hidden');\n    });\n\n    return filter;\n}\n\n","const getJSON = (url) => {\n    return fetch(url)\n        .then((response) => {\n            return response.json();\n        });\n}\n\n\n\n"]}