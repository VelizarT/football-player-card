{"version":3,"sources":["main.js","card-filter/card-filter.js","card-filter/card.js","card-filter/cards.js","card-filter/filter.js","utils/data-service.js","utils/utils.js"],"names":["document","addEventListener","getJSON","then","data","console","log","players","cardFilter","getElementById","appendChild","e","buildCardFilter","createElement","classList","add","filter","buildFilter","cards","buildCards","firstChild","remove","append","buildCard","_ref","_ref$player","player","id","_ref$player$name","name","firstName","first","lastName","last","position","info","teamId","currentTeam","stats","cardContainer","setAttribute","imgContainer","foregroundImg","src","sprite","contentContainer","cardTitle","innerText","cardSubtitle","getPosition","statsContainer","forEach","stat","statsItem","statsName","getStatsFullName","statsValue","value","cardsContainer","element","card","defaultOption","_element$player","_element$player$name","option","_step","_iterator","_createForOfIteratorHelper","getElementsByClassName","s","n","done","err","f","getElementsByName","this","url","fetch","response","json","positionShort","statShort"],"mappings":"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","file":"main.js","sourcesContent":["//Fetch Data + build components\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const fetchFbPlayersURL = '/football-players';\n    getJSON(fetchFbPlayersURL).then(data => {\n\n      console.log(data.players);\n\n      const cardFilter = buildCardFilter(data.players);\n\n      const root = document.getElementById('app');\n      root.appendChild(cardFilter);\n\n    }).catch(e => {\n      console.log('Error ' + e);\n    });\n});","const buildCardFilter = data => {\n\n    const cardFilter = document.createElement('div');\n    cardFilter.classList.add('card-filter-cnt');\n    \n    const filter = buildFilter(data);\n    const cards = buildCards(data);\n\n    //Show first card\n\n    cards.firstChild.classList.remove('hidden');\n\n    cardFilter.append(filter);\n    cardFilter.append(cards);\n\n    return cardFilter;\n}","const buildCard = ({ \n    player: { \n        id, \n        name: { first: firstName, last: lastName },\n        info: { position },\n        currentTeam: { id: teamId } \n    }, stats }) => {\n        \n    const cardContainer = document.createElement('div');\n    cardContainer.setAttribute('name', id);\n    cardContainer.classList.add('card', 'hidden');\n\n    // Build img container\n\n    const imgContainer = document.createElement('div');\n    imgContainer.classList.add('card__image');\n\n    const foregroundImg = document.createElement('img');\n    foregroundImg.classList.add('card__foreground');\n    foregroundImg.src = './img/p' + id + '.png';\n    foregroundImg.setAttribute('alt', firstName + ' ' + lastName);\n\n    const sprite =  document.createElement('img');\n    sprite.classList.add('card__sprite', 'sprite' + teamId);\n    sprite.src = './img/transparent.png';\n    sprite.setAttribute('alt', 'Logo');\n\n    imgContainer.appendChild(foregroundImg);\n    imgContainer.appendChild(sprite);\n\n    // Build content container\n\n    const contentContainer = document.createElement('div');\n    contentContainer.classList.add('card__content');\n\n    const cardTitle = document.createElement('h3');\n    cardTitle.classList.add('card__title');\n    cardTitle.innerText = firstName + ' ' + lastName;\n\n    const cardSubtitle = document.createElement('h4');\n    cardSubtitle.classList.add('card__subtitle');\n    cardSubtitle.innerText = getPosition(position);\n\n    // Create stats list\n\n    const statsContainer = document.createElement('ul');\n    statsContainer.classList.add('card__stats');    \n\n    stats.forEach(stat => {\n        const statsItem = document.createElement('li');\n        statsItem.classList.add('card__stats-detail');\n        \n        const statsName = document.createElement('em');\n        statsName.innerText = getStatsFullName(stat.name);\n\n        const statsValue = document.createElement('span');\n        statsValue.innerText = stat.value;\n\n        statsItem.appendChild(statsName);\n        statsItem.appendChild(statsValue);\n\n        statsContainer.appendChild(statsItem)\n    });\n\n    contentContainer.appendChild(cardTitle);\n    contentContainer.appendChild(cardSubtitle);\n    contentContainer.appendChild(statsContainer);\n\n    // Build card\n    cardContainer.appendChild(imgContainer);\n    cardContainer.appendChild(contentContainer);\n\n    return cardContainer;\n}","const buildCards = data => {\n\n    const cardsContainer = document.createElement('div');\n\n    data.forEach(element => {\n        const card = buildCard(element);\n        cardsContainer.appendChild(card);\n    });\n\n    return cardsContainer;\n}","const buildFilter = data => {\n\n    const filter = document.createElement('select');\n    filter.classList.add('filter');\n\n    // Default option\n\n    const defaultOption = document.createElement('option');\n    defaultOption.innerText = 'Select a player...';\n    defaultOption.setAttribute('disabled', true);\n    defaultOption.setAttribute('selected', true);\n    filter.appendChild(defaultOption);\n\n    // Create dropdown\n\n    data.forEach(element => {\n\n        const { player: { id, name: { first: firstName, last: lastName } } } = element;\n\n        const option = document.createElement('option');\n        option.innerText = firstName + ' ' + lastName;\n        option.value = id;\n\n        filter.appendChild(option);\n    });\n\n    // Add onChange event\n\n    filter.addEventListener('change', function() {\n        const list = document.getElementsByClassName('card');\n\n        for (const element of list) {\n            element.classList.add('hidden');\n        }\n        \n        document.getElementsByName(this.value)[0].classList.remove('hidden');\n    });\n\n    return filter;\n}\n\n","const getJSON = (url) => {\n    return fetch(url)\n        .then((response) => {\n            return response.json();\n        });\n}\n\n\n\n","const getPosition = (positionShort) => {\n    switch(positionShort) {\n        case 'D': \n            return 'Defender';\n        case 'M':\n            return 'Midfielder';\n        case 'F':\n            return 'Fullback';\n        default:\n            break;\n    }\n}\n\nconst getStatsFullName = (statShort) => {\n    console.log(statShort);\n    switch(statShort) {\n        case 'goals': \n            return 'GOALS';\n        case 'losses':\n            return 'LOSSES';\n        case 'wins':\n            return 'WINS';\n        case 'fwd_pass':\n            return 'FORWARD PASSES';\n        case 'goal_assist':\n            return 'GOAL ASSIST';\n        case 'appearances':\n            return 'APPEREANCES';\n        case 'mins_played':\n            return 'MIN PLAYED';\n        case 'backward_pass':\n            return 'BACKWORD PASSES';\n        default:\n            break;\n    }\n}\n\n"]}